# AI-Powered Avalanche Smart Contract Monitoring Agent

A Node.js-based monitoring agent for the Avalanche blockchain that detects anomalies in transactions and sends real-time alerts via Telegram.

## Features

- Connects to Avalanche's C-Chain using direct RPC calls with ethers.js
- Monitors transactions in real-time from the latest blocks
- Detects anomalies based on configurable thresholds
- Optional AI-powered analysis using OpenAI
- Real-time alerts via Telegram
- Modular architecture for easy extension

## Technology Stack

- **Node.js** - Backend processing
- **ethers.js** - Blockchain interaction and utilities
- **axios** - Fetch blockchain data via RPC
- **Telegraf.js** - Send Telegram alerts
- **OpenAI API** - (Optional) AI-powered transaction analysis
- **dotenv** - Environment variable management

## Prerequisites

- Node.js (v14 or higher)
- npm or yarn
- Telegram Bot Token (obtain from [@BotFather](https://t.me/botfather))
- OpenAI API Key (optional, for AI-powered analysis)

## Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/avalanche-ai-agent.git
   cd avalanche-ai-agent
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Configure environment variables:
   - Copy `.env.example` to `.env`
   - Fill in your API keys and configuration

## Configuration

Edit the `.env` file with your specific settings:

```
# Avalanche C-Chain Configuration
AVALANCHE_API_URL=https://api.avax.network/ext/bc/C/rpc
AVALANCHE_NETWORK_ID=1
AVALANCHE_CHAIN_ID=43114

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# OpenAI Configuration (Optional - for AI-based analysis)
OPENAI_API_KEY=your_openai_api_key

# Monitoring Configuration
MONITORING_INTERVAL_SECONDS=30
TRANSACTION_THRESHOLD_AVAX=100  # Alert for transactions above this AVAX value
GAS_FEE_THRESHOLD_AVAX=1  # Alert for gas fees above this AVAX value
```

## Running the Agent

Start the monitoring agent:

```bash
npm start
```

The agent will:
1. Connect to the Avalanche C-Chain
2. Start monitoring the latest blocks
3. Send alerts to your configured Telegram chat when significant transactions are detected

## Customization

### Modifying Thresholds

You can adjust the transaction thresholds in the `.env` file:
- `TRANSACTION_THRESHOLD_AVAX` - Minimum transaction value to trigger an alert
- `GAS_FEE_THRESHOLD_AVAX` - Minimum gas fee to trigger an alert

### Extending AI Capabilities

The AI analysis module (`ai_analysis.js`) can be extended to include more sophisticated detection algorithms:

1. Implement additional transaction analysis functions
2. Modify the OpenAI prompt to focus on specific types of anomalies
3. Integrate with other ML frameworks like TensorFlow.js

### Adding Monitoring Features

To extend monitoring capabilities:

1. Add new utility functions in `utils.js`
2. Implement additional checks in the `processTransaction` function in `monitor.js`
3. Extend the alert format in `telegramBot.js`

## Project Structure

- `.env` - Environment variables and configuration
- `package.json` - Project metadata and dependencies
- `monitor.js` - Main monitoring script
- `ai_analysis.js` - AI-powered transaction analysis
- `telegramBot.js` - Telegram alert system
- `utils.js` - Utility functions

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

This project is licensed under the ISC License.

## Disclaimer

This tool is provided for educational and research purposes only. Always conduct your own due diligence before making financial decisions based on the alerts generated by this tool. 